!function (e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery) }(function (e) { for (var t, n, i = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], l = ("onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"]), o = Array.prototype.slice, a = i.length; a;)e.event.fixHooks[i[--a]] = e.event.mouseHooks; var u = e.event.special.mousewheel = { version: "4.0.0-pre", setup: function () { if (this.addEventListener) for (var t = l.length; t;)this.addEventListener(l[--t], r, !1); else this.onmousewheel = r; e.data(this, "mousewheel-line-height", u._getLineHeight(this)), e.data(this, "mousewheel-page-height", u._getPageHeight(this)) }, add: function (e) { var t = e.data, n = t && t.mousewheel; n && (("throttle" in n || "debounce" in n) && u._delayHandler.call(this, e), "intent" in n && u._intentHandler.call(this, e)) }, trigger: function (e, t) { return t || (t = e, e = null), r.call(this, t), !1 }, teardown: function () { if (this.removeEventListener) for (var e = l.length; e;)this.removeEventListener(l[--e], r, !1); else this.onmousewheel = null }, _getLineHeight: function (t) { return parseInt(e(t).offsetParent().css("fontSize"), 10) }, _getPageHeight: function (t) { return e(t).height() }, settings: { adjustOldDeltas: !0 }, trigger: function (e, t) { return t || (t = e, e = null), r.call(this, t), !1 }, _fix: function (t) { var i, l = 0, o = 0, a = e.event.fix(t); if ("detail" in t && (o = t.detail), "wheelDelta" in t && (o = -1 * t.wheelDelta), "wheelDeltaY" in t && (o = -1 * t.wheelDeltaY), "wheelDeltaX" in t && (l = -1 * t.wheelDeltaX), "axis" in t && t.axis === t.HORIZONTAL_AXIS && (l = o, o = 0), "deltaY" in t && (o = t.deltaY), "deltaX" in t && (l = t.deltaX), 0 !== o || 0 !== l) { if (1 === t.deltaMode) { var u = e.data(this, "mousewheel-line-height"); delta *= u, o *= u, l *= u } else if (2 === t.deltaMode) { var r = e.data(this, "mousewheel-page-height"); delta *= r, o *= r, l *= r } return i = Math.max(Math.abs(o), Math.abs(l)), (!n || i < n) && (n = i, h(t, i) && (n /= 40)), h(t, i) && (delta /= 40, l /= 40, o /= 40), l = Math[l >= 1 ? "floor" : "ceil"](l / n), o = Math[o >= 1 ? "floor" : "ceil"](o / n), a.deltaX = l, a.deltaY = o, a.deltaFactor = n, a.deltaMode = 0, a.type = "mousewheel", a } }, _intentHandler: function (t) { var n, i, l, o, a, u = !1, r = this, s = t.data.mousewheel.intent, h = s.interval || 100, f = s.sensitivity || 7, c = t.handler, m = function (e) { o = e.pageX, a = e.pageY }, g = function () { Math.abs(i - o) + Math.abs(l - a) < f ? (e(r).off("mousemove", m), u = !0) : (i = o, l = a, n = setTimeout(g, h)) }; e(r).on("mouseenter", function () { i = event.pageX, l = event.pageY, e(r).on("mousemove", m), n = setTimeout(g, h) }).on("mouseleave", function () { n && clearTimeout(n), e(r).off("mousemove", m), u = !1 }), t.handler = function (e) { if (u) return c.apply(r, arguments); d(s, e) } }, _delayHandler: function (e) { var t, n, i, l = this, o = "throttle" in e.data.mousewheel ? "throttle" : "debounce", a = e.data.mousewheel[o], u = "leading" in a ? a.leading : "debounce" !== o, r = !("trailing" in a) || a.trailing, s = a.delay || 100, h = "throttle" === o ? s : a.maxDelay, f = e.handler; e.handler = function (e) { var c, m = arguments, g = function () { return i = +new Date, f.apply(l, m) }, v = function () { return n = null, g() }; return t ? clearTimeout(t) : u && (c = g()), t = setTimeout(function () { if (n && clearTimeout(n), t = null, n = null, i = null, r) return g() }, s), "throttle" === o ? h && +new Date - i >= h && (c = v()) : h && !n && (n = setTimeout(v, h)), d(a, e), c } } }; function r(n) { var i = n ? n.originalEvent || n : window.event, l = o.call(arguments, 1); return n = u._fix(i), l.unshift(n), t && clearTimeout(t), t = setTimeout(s, 200), e.event.dispatch.apply(this, l) } function s() { n = null } function h(e, t) { return u.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0 } function d(e, t) { !0 === e.preventDefault && t.preventDefault(), !0 === e.stopPropagation && t.stopPropagation() } });

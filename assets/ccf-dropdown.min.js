$(function(){var e=$("#filter-options").data("options");function t(){$(".ccf-filters.header .filter-title").removeClass("active"),$(".ccf-filters.header .list-title").removeClass("active"),$(".ccf-filters.content").removeClass("active"),$(".ccf-filters.header span.close").hide()}function i(){var e=location.pathname.split("/");return e=e.length>3?e[3].split("+").filter(function(e){return e.includes("ccf-")}):[]}function s(e,t){var i=$(".ccf-filters .filter-title[type='"+t+"'] .selected-type");$(i).empty(),$(i).append($(e).clone()),$(i).find("span.diselect").on("click",function(e){return $(i).empty(),$(".ccf-filters.content[type='"+t+"'] .ccf-option").removeClass("selected"),l(t),!1})}function c(e){var i=$(e).closest(".header-list").find(".selected-type");$(i).find("span.selected").empty(),$(i).find("span.selected").append($(e).text()),$(i).addClass("show-x"),t()}function l(e){var t=$(".ccf-filters .filter-title[type='"+e+"'] .ccf-option"),s=i().filter(function(t){return!t.includes("ccf-"+e)});t.map(function(e,t){s.push($(t).data("slug"))}),n(s)}function n(e){var t=location.pathname.split("/").filter(function(e){return!e.includes("ccf-")&&""!=e});0==t.length&&(t.push("collections"),t.push("shop-all")),t.unshift(location.origin),e=e.join("+"),t.push(e);var i=a(location.search);i.view="editorial",i.page=1;var s="?"+jQuery.param(i).replace(/\+/g,"%20");location.href=t.join("/")+s}function a(e){var t={};0===e.indexOf("?")&&(e=e.substr(1));for(var i=e.split("&"),s=0;s<i.length;s++){var c=i[s].split("=");if(!(c.length<=1)){var l=c[0],n=c[1];n=(n=decodeURIComponent(n)).replace(/\+/g," "),t[l]=n}}return t}e&&e.length>0&&(e=e.split(","),$(".ccf-option").each(function(t,i){var s=$(i).data("name");-1==e.indexOf(s)&&($(this).addClass("disabled-option"),$(i).remove())})),$(".ccf-filters.header .filter-title").on("click",function(){t(),$(this).addClass("active");var e=$(this).data("handle");$filterHandler=$(".ccf-filters.content[handle='"+e+"']"),$filterHandler.find("img").addClass("lazyload"),$filterHandler.addClass("active"),$(this).closest(".ccf-filters.header").find("span.close").show()}),$(".ccf-filters.header.header-list").on("click",function(e){e.stopPropagation()}),$(".ccf-filters.header .list-title").on("click",function(){var e=$(this).hasClass("active");t(),e||$(this).addClass("active")}),$(".ccf-filters.header-list .dd-sort li").on("click",function(){c($(this));var e=a(location.search);e.sort_by=$(this).attr("value"),e.view="editorial",e.page=1,location.search=jQuery.param(e).replace(/\+/g,"%20")}),$(".ccf-filters.header-list .dd-size li").on("click",function(){c($(this));var e=i().filter(function(e){return!e.includes("ccf-size")});e.push($(this).attr("value")),n(e)}),$(".header-list.size-by .selected-type span.diselect").on("click",function(e){return $(this).closest(".selected-type").empty(),n(i().filter(function(e){return!e.includes("ccf-size")})),!1}),$(".header-list.sort-by .selected-type span.diselect").on("click",function(e){$(this).closest(".selected-type").empty();var t=a(location.search);return t.sort_by="",t.view="editorial",location.search=jQuery.param(t).replace(/\+/g,"%20"),!1}),$("body").on("click",function(){$(".ccf-filters.header .list-title").removeClass("active")}),$(".ccf-filters.header span.close").on("click",t),$(".ccf-filters.content").on("click"," .ccf-option",function(){if(!$(".ccf-filters.content").hasClass("is-dragging")&&!$(this).hasClass("selected")){var e=$(this).closest(".ccf-filters.content").attr("type");s($(this),e),$(".ccf-filters.content .ccf-option").removeClass("selected"),$(this).addClass("selected"),l(e),t()}}),i().map(function(e){var t=$(".ccf-option[data-slug='"+e+"']"),i=$(t).closest(".ccf-filters.content").attr("type");t&&i&&(s($(t),i),$(t).addClass("selected"))});var o,r=(o="sort_by",(location.search.split(o+"=")[1]||"").split("&")[0]);r&&r.length>0&&c($("li[value='"+r+"']"));i().filter(function(e){return e.includes("ccf-size")}).map(function(e){var t=$("li[value='"+e+"']");t&&t.length>0&&c(t)}),$(".ccf-filters.content").on("swipe",function(e,t,i){$(this).addClass("is-dragging"),setTimeout(function(){$(".ccf-filters.content").removeClass("is-dragging")},500)}),$(".ccf-filters.content").slick({infinite:!1,rows:2,speed:300,slidesToShow:7,slidesToScroll:3,nextArrow:'<button class="slick-next slick-arrow fa fa-chevron-right" aria-label="Next" type="button" style="display: block;" aria-disabled="false"></button>',prevArrow:'<button class="slick-prev slick-arrow fa fa-chevron-left" aria-label="Previous" type="button" style="display: block;" aria-disabled="false"></button>',responsive:[{breakpoint:1288,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:1024,settings:{slidesToShow:4,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:570,settings:{slidesToShow:2,slidesToScroll:1}}]})});